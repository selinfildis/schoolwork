<div class="container">
    <h2>List of Other Users</h2>
    <div id="modalforloadingstuff1">
        @Html.Partial("_CV")
    </div>
    <div id="modalforloadingstuff2">
        @Html.Partial("_ScheduleModal")
    </div>
    <div id="modalforloadingstuff3">
    </div>
    <table class="table table-striped table-bordered" id="mytable">
        <thead>
            <tr>
                <td>Name</td>
                <td>Email</td>
                <td>Operations</td>
            </tr>
        </thead>
        <tbody>
            @foreach (var element in ViewBag.UserList)
            {
                <tr>
                    <td>@element.FullName</td>
                    <td>@element.Mail</td>
                    <td>
                        <button class="btn btn-success btn-xs schedule" data-id="@element.UserID">View Schedule</button>
                        <button class="btn btn-warning btn-xs message" data-id="@element.UserID">Send Message</button>
                        <button class="btn btn-primary btn-xs cv" data-id="@element.UserID">View CV</button>
                    </td>

                </tr>
            }
        </tbody>
    </table>
</div>
<script>
    
    $(document).ready(function(){
        $('#mytable').DataTable();
        $('.schedule').on('click', function () {
            $(".schedule-modal").modal("show");
        });
        $('.message').on('click', function () {
            $('#modalforloadingstuff3').load(window.location.origin + "/User/GetMessageScreen", { uidreciever: $(this).data('id')})
        });
        $('.cv').on('click', function () {
            $("#cv-modal").modal("show");
        });
    });
</script>